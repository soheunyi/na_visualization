(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(14),l=n(17),c=n(1),o=(n(30),n(0));var i=e=>{let{label:t,checked:n,onChange:a,className:l=""}=e;return Object(o.jsxs)("div",{className:"modern-toggle-container ".concat(l),children:[Object(o.jsx)("label",{className:"modern-toggle-label",children:t}),Object(o.jsx)("div",{className:"modern-toggle ".concat(n?"modern-toggle--checked":""),onClick:()=>a(!n),role:"switch","aria-checked":n,tabIndex:0,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),a(!n))},children:Object(o.jsx)("div",{className:"modern-toggle__track",children:Object(o.jsx)("div",{className:"modern-toggle__thumb"})})})]})};n(32);var r=e=>{let{label:t,options:n,value:a,onChange:l,className:i=""}=e;const[r,s]=Object(c.useState)(!1),[u,d]=Object(c.useState)(n.find(e=>"string"===typeof e.value?e.value===a:e.label===a)||n[0]||null),b=Object(c.useRef)(null);Object(c.useEffect)(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return Object(o.jsxs)("div",{className:"modern-select-container ".concat(i),children:[Object(o.jsx)("label",{className:"modern-select-label",children:t}),Object(o.jsxs)("div",{className:"modern-select",ref:b,children:[Object(o.jsxs)("div",{className:"modern-select__trigger ".concat(r?"modern-select__trigger--open":""),onClick:()=>s(!r),onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),s(!r)):"Escape"===e.key&&s(!1)},tabIndex:0,role:"combobox","aria-expanded":r,"aria-haspopup":"listbox",children:[Object(o.jsx)("span",{className:"modern-select__value",children:(null===u||void 0===u?void 0:u.label)||"Select option"}),Object(o.jsx)("div",{className:"modern-select__arrow",children:Object(o.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",children:Object(o.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r&&Object(o.jsx)("div",{className:"modern-select__dropdown",children:Object(o.jsx)("div",{className:"modern-select__options",role:"listbox",children:n.map(e=>Object(o.jsxs)("div",{className:"modern-select__option ".concat((null===u||void 0===u?void 0:u.value)===e.value?"modern-select__option--selected":""),onClick:()=>(e=>{d(e),s(!1),l(e)})(e),role:"option","aria-selected":(null===u||void 0===u?void 0:u.value)===e.value,children:[Object(o.jsx)("span",{className:"modern-select__option-text",children:e.label}),(null===u||void 0===u?void 0:u.value)===e.value&&Object(o.jsx)("div",{className:"modern-select__check",children:Object(o.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(o.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},e.value))})})]})]})},s=n(4);n(33);var u=e=>{let{title:t,inputs:n,onChange:a,className:l=""}=e;const c=(e,t)=>{const l=n.map((n,a)=>a===e?Object(s.a)(Object(s.a)({},n),{},{value:t}):n);a(l)};return Object(o.jsxs)("div",{className:"modern-input-group ".concat(l),children:[Object(o.jsx)("h4",{className:"modern-input-group__title",children:t}),Object(o.jsx)("div",{className:"modern-input-group__inputs",children:n.map((e,t)=>Object(o.jsxs)("div",{className:"modern-input-item",children:[Object(o.jsx)("label",{className:"modern-input-label",children:e.name}),"number"===e.type?Object(o.jsx)("input",{type:"number",value:e.value,onChange:e=>c(t,parseFloat(e.target.value)||0),className:"modern-number-input",step:"any"}):Object(o.jsx)("div",{className:"modern-checkbox ".concat(e.value?"modern-checkbox--checked":""),onClick:()=>c(t,!e.value),role:"checkbox","aria-checked":e.value,tabIndex:0,onKeyDown:n=>{" "!==n.key&&"Enter"!==n.key||(n.preventDefault(),c(t,!e.value))},children:Object(o.jsx)("div",{className:"modern-checkbox__box",children:e.value&&Object(o.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:Object(o.jsx)("path",{d:"M10 3L4.5 8.5L2 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.name))})]})},d=n(3),b=n.n(d);function j(e){const t=[];for(let n=0;n<e.length/2;n++)t.push({x:e[2*n],y:e[2*n+1]});return t}n(35),n(36);var h=(e,t,n)=>{const{color:a="black",width:l=1}=n;t.sort(function(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:void 0}),t.length>1&&(e.beginPath(),t.map((n,a)=>{if(a>=t.length-1)return;const l=t[a+1];e.moveTo(n.x,n.y),e.lineTo(l.x,l.y)}),e.strokeStyle=a,e.lineWidth=l,e.stroke())},m=n(16),v=n.n(m);function p(e,t){return{x:e.x+t.x,y:e.y+t.y}}function x(e){return b.a.isUndefined(e)?{x:0,y:0}:e}function O(e){const t=Object(c.useMemo)(()=>e.point.position,[]),n=Object(c.useMemo)(()=>e.animationFrameCount,[]),a=Object(c.useRef)(),l=Object(c.useRef)(),[i,r]=Object(c.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),s=()=>{const{key:n}=e.point,c=x(a.current),o=x(l.current),r={key:n,position:p(p(t,i),p(c,o))};e.handleDrag(r)},{animated:u,absoluteAnimation:d,relativeAnimation:b,animationFrameCount:j}=e;Object(c.useEffect)(()=>{if(u){const e=d();a.current=p(x(a.current),e),l.current=b(j-n),s()}},[j]);const{pointSize:h,color:m}=e.pointStyle,O=x(a.current),f=p(x(l.current),O);return Object(o.jsx)(v.a,{onDrag:(e,t)=>{r(t),s()},children:Object(o.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:t.x+f.x-h,top:t.y+f.y-h,width:2*h,height:2*h,borderRadius:"100%",background:m,opacity:0}})})}n(46);var f=function(e){const t=Object(c.useRef)(null),{draw:n,pathPoints:a,points:l,pointStyle:i,lineStyle:r,canvasStyle:u}=e;return Object(c.useEffect)(()=>{const e=t.current;if(!e)return;const c=e.getContext("2d");c&&(c.clearRect(0,0,c.canvas.width,c.canvas.height),n(c,a,r),l.forEach(e=>{!function(e,t,n,a){const{color:l="#ff2626",pointSize:c=10}=a;e.beginPath(),e.fillStyle=l,e.arc(t,n,c,0,2*Math.PI),e.fill(),e.stroke()}(c,e.x,e.y,i)}))},[n,l,a,i,r]),Object(o.jsx)("canvas",Object(s.a)({ref:t,width:u.width,height:u.height},e))};const g=e=>{for(var t=0,n=0;n<e;n++)t+=Math.random();return(t-e/2)/(e/12)**2};const y=60,k=[{value:()=>()=>({x:0,y:0}),label:"None",variable:[]},{value:function(e){let{sigma:t}=e;return()=>({x:t*g(5)/y**.5,y:t*g(5)/y**.5})},label:"Brownian Motion",variable:[{name:"sigma",value:5,type:"number"}]},{value:function(e){return()=>({x:e.x/y,y:e.y/y})},label:"Linear",variable:[{name:"x",value:20,type:"number"},{name:"y",value:10,type:"number"}]}],N=[{value:()=>()=>({x:0,y:0}),label:"None",variable:[]},{value:function(e){let{radius:t,freq:n,clockwise:a}=e;return e=>{const l=a?-2*Math.PI*n*e/y:2*Math.PI*n*e/y;return{x:t*Math.cos(l)-t,y:t*Math.sin(l)}}},label:"Circular",variable:[{name:"radius",value:10,type:"number"},{name:"freq",value:1,type:"number"},{name:"clockwise",value:!0,type:"checkbox"}]}],C=[{value:"wavy",label:"Wavy"},{value:"linear",label:"Linear"},{value:"lagrange",label:"Lagrange"},{value:"quad_spline",label:"Quadratic Spline"},{value:"cubic_spline",label:"Cubic Spline"},{value:"fourth_spline",label:"4th Spline"},{value:"fifth_spline",label:"5th Spline"},{value:"akima",label:"Akima"},{value:"pchip",label:"PCHIP"}];function _(e){const[t,n]=Object(c.useState)(0),{animated:a,absoluteAnimation:l,relativeAnimation:i,lineWidth:r,style:s}=e,{pointSize:u}=s;return Object(c.useEffect)(()=>{const e=setInterval(()=>{a&&n(e=>e+1)},1e3/y);return()=>{clearInterval(e)}},[a]),Object(o.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%"},onDoubleClick:()=>{const{position:t}=e;e.handleDoubleClick(t)},children:[e.pivotalPoints.map(n=>Object(o.jsx)(O,{animated:a,absoluteAnimation:l,relativeAnimation:i,animationFrameCount:t,handleDrag:e.handleDrag,point:n,pointStyle:{pointSize:10,color:"yellow"}})),Object(o.jsx)(f,{draw:h,pathPoints:e.plotPoints.path,points:e.plotPoints.pivotal,lineStyle:{color:"black",width:r},pointStyle:{color:"red",pointSize:u},canvasStyle:{width:7200,height:4e3}})]})}function w(e){const t={};var n;return(n=e.current,b.a.isUndefined(n)?[]:n).forEach(e=>{t[e.name]=e.value}),t}const S=[];function A(){const[e,t]=Object(c.useState)(!1),[n,a]=Object(c.useState)([]),[s,d]=Object(c.useState)({path:[],pivotal:[]}),h=Object(c.useRef)(k[0]),m=Object(c.useRef)(N[0]),v=Object(c.useRef)(h.current.variable),p=Object(c.useRef)(m.current.variable);Object(c.useEffect)(()=>{let e;const t=()=>{a([...S]);const n=document.getElementById("root");if(n){const e=n.getAttribute("plotPosition"),t=null==e?{path:[],pivotal:[]}:JSON.parse(e);t.path=j(t.path),t.pivotal=j(t.pivotal),d(t)}e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}},[]);const x=Object(c.useCallback)(e=>{h.current=e},[]),O=Object(c.useCallback)(e=>{m.current=e},[]),f=Object(c.useCallback)(e=>{v.current=e},[]),g=Object(c.useCallback)(e=>{p.current=e},[]);Object(c.useEffect)(()=>{const e=b.a.findIndex(k,e=>e.label===h.current.label);f(k[e].variable)},[h.current]),Object(c.useEffect)(()=>{const e=b.a.findIndex(N,e=>e.label===m.current.label);g(N[e].variable)},[m.current]);const y=Object(c.useRef)();y.current=Object(c.useCallback)(e=>{const t=b.a.findIndex(S,t=>t.key===e.key);-1!==t&&(S[t]=e)},[]);const A=Object(c.useRef)();A.current=Object(c.useCallback)(e=>{const t=Math.random().toString(36);S.length<100&&S.push({position:e,key:t})},[]);const E=Object(c.useCallback)(e=>{const t=document.getElementById("root");t&&t.setAttribute("interpolationMethod",e.value)},[]),P=Object(c.useCallback)(e=>{const t=k.find(t=>t.label===e.label);t&&x(t)},[x]),L=Object(c.useCallback)(e=>{const t=N.find(t=>t.label===e.label);t&&O(t)},[O]);return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"modern-controls-container",children:[Object(o.jsx)("div",{className:"controls-section",children:Object(o.jsx)(i,{label:"Animation",checked:e,onChange:t})}),Object(o.jsx)("div",{className:"controls-section",children:Object(o.jsx)(r,{label:"Interpolation Method",options:C,onChange:E})}),e&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"controls-section",children:[Object(o.jsx)(r,{label:"Absolute Animation",options:k,onChange:P}),v.current.length>0&&Object(o.jsx)(u,{title:"Parameters",inputs:v.current,onChange:f})]}),Object(o.jsxs)("div",{className:"controls-section",children:[Object(o.jsx)(r,{label:"Relative Animation",options:N,onChange:L}),p.current.length>0&&Object(o.jsx)(u,{title:"Parameters",inputs:p.current,onChange:g})]})]})]}),Object(o.jsx)(l.a,{style:{position:"absolute"},children:Object(o.jsx)(_,{style:{pointSize:10,lineWidth:5},animated:e,relativeAnimation:m.current.value(w(p)),absoluteAnimation:h.current.value(w(v)),handleDoubleClick:A.current,handleDrag:y.current,pivotalPoints:n,plotPoints:null===s?[]:s})})]})}const E=document.getElementById("root");if(E){let e;const t=()=>{E.setAttribute("pivotalPosition","".concat("[",S.map(e=>JSON.stringify([e.position.x,e.position.y])).toString(),"]")),e=requestAnimationFrame(t)};t();Object(a.createRoot)(E).render(Object(o.jsx)(A,{}))}}},[[47,1,2]]]);
//# sourceMappingURL=main.8457fe0a.chunk.js.map