(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,n){},66:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(23),i=n(27),c=n(1),o=n(0),l=(n(40),n(2));function r(e){const t=Object(o.useRef)(),n=Object(o.useRef)();return Object(l.jsxs)("div",Object(c.a)(Object(c.a)({},e),{},{children:[Object(l.jsx)("p",{children:e.name}),Object(l.jsx)("input",{ref:n,name:e.name,className:"toggle-checkbox",type:"checkbox",defaultChecked:e.value,value:e.value||!1}),Object(l.jsx)("span",{ref:t,onClick:function(){e.onChange&&e.onChange(n.current.checked),t.current.classList.toggle("toggled"),n.current.checked=!n.current.checked,e.onToggle&&e.onToggle(n.current.checked)},className:e.checked?"toggled toggle-switch":"toggle-switch",children:Object(l.jsx)("span",{className:"toggle"})})]}))}var s=n(4),u=n.n(s);function b(e){const t=[];for(let n=0;n<e.length/2;n++)t.push({x:e[2*n],y:e[2*n+1]});return t}var p=n(26);function d(e){return Object(l.jsxs)("div",Object(c.a)(Object(c.a)({},e),{},{children:[Object(l.jsx)("p",{children:e.name}),Object(l.jsx)(p.a,{options:e.options,onChange:t=>{e.onChange(t)}})]}))}function h(e){return Object(l.jsx)("form",{onSubmit:t=>{t.preventDefault();const n=document.getElementById(e.name.concat("-input-form"));e.handleInputChange({name:n.name,value:Number(n.value),type:n.type})},style:{padding:"1%"},children:Object(l.jsxs)("label",{children:[e.name,Object(l.jsx)("br",{}),Object(l.jsx)("input",{id:e.name.concat("-input-form"),type:e.type,name:e.name,onChange:t=>{const n=t.target;"checkbox"===n.type&&e.handleInputChange({name:n.name,value:!n.checked,type:n.type})}})]})})}function j(e){function t(t){const n=[...e.inputsInfo];n[u.a.findIndex(e.inputsInfo,e=>e.name===t.name)]=t,e.handleInputChange(n)}return Object(l.jsx)("div",{class:"multiple-input-box",children:e.inputsInfo.map(e=>Object(l.jsx)(h,{handleInputChange:t,type:e.type,name:e.name}))})}n(66);var m=(e,t,n)=>{const{color:a="black",width:i=1}=n;t.sort(function(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:void 0}),t.length>1&&(e.beginPath(),t.map((n,a)=>{if(a>=t.length-1)return;const i=t[a+1];e.moveTo(n.x,n.y),e.lineTo(i.x,i.y)}),e.strokeStyle=a,e.lineWidth=i,e.stroke())},f=n(25),v=n.n(f);function O(e,t){return{x:e.x+t.x,y:e.y+t.y}}function g(e){return u.a.isUndefined(e)?{x:0,y:0}:e}function y(e){const t=Object(o.useMemo)(()=>e.point.position,[]),n=Object(o.useMemo)(()=>e.animationFrameCount,[]),a=Object(o.useRef)(),i=Object(o.useRef)(),[c,r]=Object(o.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),s=()=>{const{key:n}=e.point,o=g(a.current),l=g(i.current),r={key:n,position:O(O(t,c),O(o,l))};e.handleDrag(r)},{animated:u,absoluteAnimation:b,relativeAnimation:p,animationFrameCount:d}=e;Object(o.useEffect)(()=>{if(u){const e=b();a.current=O(g(a.current),e),i.current=p(d-n),s()}},[d]);const{pointSize:h,color:j}=e.pointStyle,m=g(a.current),f=O(g(i.current),m);return Object(l.jsx)(v.a,{onDrag:(e,t)=>{r(t),s()},children:Object(l.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:t.x+f.x-h,top:t.y+f.y-h,width:2*h,height:2*h,borderRadius:"100%",background:j,opacity:0}})})}n(71);var x=function(e){const t=Object(o.useRef)(null),{draw:n,pathPoints:a,points:i,pointStyle:r,lineStyle:s,canvasStyle:u}=e;return Object(o.useEffect)(()=>{const e=t.current;if(!e)return;const c=e.getContext("2d");c&&(c.clearRect(0,0,c.canvas.width,c.canvas.height),n(c,a,s),i.forEach(e=>{!function(e,t,n,a){const{color:i="#ff2626",pointSize:c=10}=a;e.beginPath(),e.fillStyle=i,e.arc(t,n,c,0,2*Math.PI),e.fill(),e.stroke()}(c,e.x,e.y,r)}))},[n,i,a,r,s]),Object(l.jsx)("canvas",Object(c.a)({ref:t,width:u.width,height:u.height},e))};const k=e=>{for(var t=0,n=0;n<e;n++)t+=Math.random();return(t-e/2)/(e/12)**2};const C=60,S=[{value:()=>()=>({x:0,y:0}),label:"None",variable:[]},{value:function(e){let{sigma:t}=e;return()=>({x:t*k(5)/C**.5,y:t*k(5)/C**.5})},label:"Brownian Motion",variable:[{name:"sigma",value:5,type:"number"}]},{value:function(e){return()=>({x:e.x/C,y:e.y/C})},label:"Linear",variable:[{name:"x",value:20,type:"number"},{name:"y",value:10,type:"number"}]}],I=[{value:()=>()=>({x:0,y:0}),label:"None",variable:[]},{value:function(e){let{radius:t,freq:n,clockwise:a}=e;return e=>{const i=a?-2*Math.PI*n*e/C:2*Math.PI*n*e/C;return{x:t*Math.cos(i)-t,y:t*Math.sin(i)}}},label:"Circular",variable:[{name:"radius",value:10,type:"number"},{name:"freq",value:1,type:"number"},{name:"clockwise",value:!0,type:"checkbox"}]}],A=[{value:"wavy",label:"Wavy"},{value:"linear",label:"Linear"},{value:"lagrange",label:"Lagrange"},{value:"quad_spline",label:"Quadratic Spline"},{value:"cubic_spline",label:"Cubic Spline"},{value:"fourth_spline",label:"4th Spline"},{value:"fifth_spline",label:"5th Spline"},{value:"akima",label:"Akima"},{value:"pchip",label:"PCHIP"}];function w(e){const[t,n]=Object(o.useState)(0),{animated:a,absoluteAnimation:i,relativeAnimation:c,lineWidth:r,style:s}=e,{pointSize:u}=s;return Object(o.useEffect)(()=>{const e=setInterval(()=>{a&&n(e=>e+1)},1e3/C);return()=>{clearInterval(e)}},[a]),Object(l.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%"},onDoubleClick:()=>{const{position:t}=e;e.handleDoubleClick(t)},children:[e.pivotalPoints.map(n=>Object(l.jsx)(y,{animated:a,absoluteAnimation:i,relativeAnimation:c,animationFrameCount:t,handleDrag:e.handleDrag,point:n,pointStyle:{pointSize:10,color:"yellow"}})),Object(l.jsx)(x,{draw:m,pathPoints:e.plotPoints.path,points:e.plotPoints.pivotal,lineStyle:{color:"black",width:r},pointStyle:{color:"red",pointSize:u},canvasStyle:{width:7200,height:4e3}})]})}function P(e){return u.a.isUndefined(e)?[]:e}function R(e){const t={};return P(e.current).forEach(e=>{t[e.name]=e.value}),t}const M=[];function E(){const[e,t]=Object(o.useState)(!1),[n,a]=Object(o.useState)([]),[c,s]=Object(o.useState)({path:[],pivotal:[]}),p=Object(o.useRef)(S[0]),h=Object(o.useRef)(I[0]),m=Object(o.useRef)(p.current.variable),f=Object(o.useRef)(h.current.variable);Object(o.useEffect)(()=>{let e;const t=()=>{a([...M]);const n=document.getElementById("root");if(n){const e=n.getAttribute("plotPosition"),t=null==e?{path:[],pivotal:[]}:JSON.parse(e);t.path=b(t.path),t.pivotal=b(t.pivotal),s(t)}e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}},[]);const v=Object(o.useCallback)(e=>{p.current=e},[]),O=Object(o.useCallback)(e=>{h.current=e},[]),g=Object(o.useCallback)(e=>{m.current=e},[]),y=Object(o.useCallback)(e=>{f.current=e},[]);Object(o.useEffect)(()=>{const e=u.a.findIndex(S,e=>e.label===p.current.label);g(S[e].variable)},[p.current]),Object(o.useEffect)(()=>{const e=u.a.findIndex(I,e=>e.label===h.current.label);y(I[e].variable)},[h.current]);const x=Object(o.useRef)();x.current=Object(o.useCallback)(e=>{const t=u.a.findIndex(M,t=>t.key===e.key);-1!==t&&(M[t]=e)},[]);const k=Object(o.useRef)();k.current=Object(o.useCallback)(e=>{const t=Math.random().toString(36);M.length<100&&M.push({position:e,key:t})},[]);const C=Object(o.useCallback)(e=>{const t=document.getElementById("root");t&&t.setAttribute("interpolationMethod",e.value)},[]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"select-container",children:[Object(l.jsx)(r,{name:"Animated?",onChange:t}),Object(l.jsxs)("div",{id:"2nd",children:[Object(l.jsx)(d,{name:"Absolute Animation",label:"absoluteAnimation",options:S,onChange:v}),Object(l.jsx)(j,{inputsInfo:P(m.current),handleInputChange:g})]}),Object(l.jsxs)("div",{id:"3rd",children:[Object(l.jsx)(d,{name:"Relative Animation",label:"relativeAnimation",options:I,onChange:O}),Object(l.jsx)(j,{inputsInfo:P(f.current),handleInputChange:y})]}),Object(l.jsx)("div",{id:"4th",children:Object(l.jsx)(d,{name:"Interpolation Method",label:"interpolationMethod",options:A,onChange:C})})]}),Object(l.jsx)(i.a,{style:{position:"absolute"},children:Object(l.jsx)(w,{style:{pointSize:10,lineWidth:5},animated:e,relativeAnimation:h.current.value(R(f)),absoluteAnimation:p.current.value(R(m)),handleDoubleClick:k.current,handleDrag:x.current,pivotalPoints:n,plotPoints:null===c?[]:c})})]})}const N=document.getElementById("root");if(N){let e;const t=()=>{N.setAttribute("pivotalPosition","".concat("[",M.map(e=>JSON.stringify([e.position.x,e.position.y])).toString(),"]")),e=requestAnimationFrame(t)};t();Object(a.createRoot)(N).render(Object(l.jsx)(E,{}))}}},[[72,1,2]]]);
//# sourceMappingURL=main.88da30f4.chunk.js.map