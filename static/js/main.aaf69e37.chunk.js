(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(6),r=n.n(i),o=n(21),c=n(5),u=n(0),l=(n(32),n(1));function s(e){var t=Object(u.useRef)(),n=Object(u.useRef)();return Object(l.jsxs)("div",Object(c.a)(Object(c.a)({},e),{},{children:[Object(l.jsx)("p",{children:e.name}),Object(l.jsx)("input",{ref:n,name:e.name,className:"toggle-checkbox",type:"checkbox",defaultChecked:e.value,value:e.value||!1}),Object(l.jsx)("span",{ref:t,onClick:function(){e.onChange&&e.onChange(n.current.checked),t.current.classList.toggle("toggled"),n.current.checked=!n.current.checked,e.onToggle&&e.onToggle(n.current.checked)},className:e.checked?"toggled toggle-switch":"toggle-switch",children:Object(l.jsx)("span",{className:"toggle"})})]}))}var f=n(3),b=n.n(f);function v(e){for(var t=[],n=0;n<e.length/2;n++)t.push({x:e[2*n],y:e[2*n+1]});return t}var p=n(20);function h(e){return Object(l.jsxs)("div",Object(c.a)(Object(c.a)({},e),{},{children:[Object(l.jsx)("p",{children:e.name}),Object(l.jsx)(p.a,{options:e.options,onChange:function(t){e.onChange(t)}})]}))}var d=n(22);function j(e){return Object(l.jsx)("form",{onSubmit:function(t){t.preventDefault();var n=document.getElementById(e.name.concat("-input-form"));e.handleInputChange({name:n.name,value:Number(n.value),type:n.type})},children:Object(l.jsxs)("label",{children:[e.name,":",Object(l.jsx)("input",{id:e.name.concat("-input-form"),type:e.type,name:e.name,onChange:function(t){var n=t.target;console.log(n.type),"checkbox"===n.type&&e.handleInputChange({name:n.name,value:n.checked,type:n.type})}})]})})}function m(e){function t(t){var n=Object(d.a)(e.inputsInfo);n[b.a.findIndex(e.inputsInfo,(function(e){return e.name===t.name}))]=t,console.log(n),e.handleInputChange(n)}return Object(l.jsx)("div",{class:"multiple-input-box",children:e.inputsInfo.map((function(e){return Object(l.jsx)(j,{handleInputChange:t,type:e.type,name:e.name})}))})}n(48);var O=function(e,t,n){var a=n.color,i=void 0===a?"black":a,r=n.width,o=void 0===r?1:r;t.sort((function(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:void 0})),t.length>1&&(e.beginPath(),t.map((function(n,a){if(!(a>=t.length-1)){var i=t[a+1];e.moveTo(n.x,n.y),e.lineTo(i.x,i.y)}})),e.strokeStyle=i,e.lineWidth=o,e.stroke())},g=n(19),y=n.n(g);function x(e,t){return{x:e.x+t.x,y:e.y+t.y}}function k(e){return b.a.isUndefined(e)?{x:0,y:0}:e}function S(e){var t=Object(u.useMemo)((function(){return e.point.position}),[]),n=Object(u.useMemo)((function(){return e.animationFrameCount}),[]),i=Object(u.useRef)(),r=Object(u.useRef)(),o=Object(u.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),c=Object(a.a)(o,2),s=c[0],f=c[1],b=function(){var n=e.point.key,a=k(i.current),o=k(r.current),c={key:n,position:x(x(t,s),x(a,o))};e.handleDrag(c)},v=e.animated,p=e.absoluteAnimation,h=e.relativeAnimation,d=e.animationFrameCount;Object(u.useEffect)((function(){if(v){var e=p();i.current=x(k(i.current),e),r.current=h(d-n),b()}}),[d]);var j=e.pointStyle,m=j.pointSize,O=j.color,g=k(i.current),S=x(k(r.current),g);return Object(l.jsx)(y.a,{onDrag:function(e,t){f(t),b()},children:Object(l.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:t.x+S.x-m,top:t.y+S.y-m,width:2*m,height:2*m,borderRadius:"100%",background:O,opacity:0}})})}n(53);var I=function(e){var t=Object(u.useRef)(null),n=e.draw,a=e.pathPoints,i=e.points,r=e.pointStyle,o=e.lineStyle,s=e.canvasStyle;return Object(u.useEffect)((function(){var e=t.current.getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height),n(e,a,o),i.map((function(t){!function(e,t,n,a){var i=a.color,r=void 0===i?"#ff2626":i,o=a.pointSize,c=void 0===o?10:o;e.beginPath(),e.fillStyle=r,e.arc(t,n,c,0,2*Math.PI),e.fill(),e.stroke()}(e,t.x,t.y,r)}))}),[i,a]),Object(l.jsx)("canvas",Object(c.a)({ref:t,width:s.width,height:s.height},e))},w=function(e){for(var t=0,n=0;n<e;n++)t+=Math.random();return(t-e/2)/Math.pow(e/12,2)};var C=60,A=[{value:function(){return function(){return{x:0,y:0}}},label:"None",variable:[]},{value:function(e){var t=e.sigma;return function(){return{x:t*w(5)/Math.pow(C,.5),y:t*w(5)/Math.pow(C,.5)}}},label:"brownianMotion",variable:[{name:"sigma",value:5,type:"number"}]},{value:function(e){return function(){return{x:e.x/C,y:e.y/C}}},label:"linear",variable:[{name:"x",value:20,type:"number"},{name:"y",value:10,type:"number"}]}],P=[{value:function(){return function(){return{x:0,y:0}}},label:"None",variable:[]},{value:function(e){var t=e.radius,n=e.freq,a=e.clockwise;return function(e){var i=a?-2*Math.PI*n*e/C:2*Math.PI*n*e/C;return{x:t*Math.cos(i)-t,y:t*Math.sin(i)}}},label:"circular",variable:[{name:"radius",value:10,type:"number"},{name:"freq",value:1,type:"number"},{name:"clockwise",value:!0,type:"checkbox"}]}];function R(e){var t=Object(u.useState)(0),n=Object(a.a)(t,2),i=n[0],r=n[1],o=e.animated,c=e.absoluteAnimation,s=e.relativeAnimation,f=e.lineWidth,b=e.style.pointSize;return Object(u.useEffect)((function(){var e=setInterval((function(){o&&r((function(e){return e+1}))}),1e3/C);return function(){clearInterval(e)}}),[o]),Object(l.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%"},onDoubleClick:function(){var t=e.position;e.handleDoubleClick(t)},children:[e.pivotalPoints.map((function(t){return Object(l.jsx)(S,{animated:o,absoluteAnimation:c,relativeAnimation:s,animationFrameCount:i,handleDrag:e.handleDrag,point:t,pointStyle:{pointSize:10,color:"yellow"}})})),Object(l.jsx)(I,{draw:O,pathPoints:e.plotPoints.path,points:e.plotPoints.pivotal,lineStyle:{color:"black",width:f},pointStyle:{color:"red",pointSize:b},canvasStyle:{width:1600,height:1e3}})]})}function M(e){return b.a.isUndefined(e)?[]:e}function D(e){var t={};return M(e.current).forEach((function(e){t[e.name]=e.value})),t}var E=[];function N(){var e=Object(u.useState)(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],r=Object(u.useState)([]),c=Object(a.a)(r,2),f=c[0],p=c[1],d=Object(u.useState)({path:[],pivotal:[]}),j=Object(a.a)(d,2),O=j[0],g=j[1],y=Object(u.useRef)(A[0]),x=Object(u.useRef)(P[0]),k=Object(u.useRef)(y.current.variable),S=Object(u.useRef)(x.current.variable);Object(u.useEffect)((function(){var e=setInterval((function(){p([].concat(E));var e=z.getAttribute("plotPosition"),t=null==e?{path:[],pivotal:[]}:JSON.parse(e);t.path=v(t.path),t.pivotal=v(t.pivotal),g(t)}),1e3/60);return function(){clearInterval(e)}}),[]);var I=function(e){k.current=e},w=function(e){S.current=e};Object(u.useEffect)((function(){var e=b.a.findIndex(A,(function(e){return e.label===y.current.label}));I(A[e].variable)}),[y.current]),Object(u.useEffect)((function(){var e=b.a.findIndex(P,(function(e){return e.label===x.current.label}));w(P[e].variable)}),[x.current]);var C=Object(u.useRef)();C.current=function(e){var t=b.a.findIndex(E,(function(t){return t.key===e.key}));E[t]=e};var N=Object(u.useRef)();return N.current=function(e){var t=Math.random().toString(36);E.length<100&&E.push({position:e,key:t})},Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{class:"select-container",children:[Object(l.jsx)(s,{id:"left",name:"Animated?",onToggle:i}),Object(l.jsx)(h,{id:"center",name:"Absolute Animation",label:"absoluteAnimation",options:A,onChange:function(e){y.current=e}}),Object(l.jsx)(m,{inputsInfo:M(k.current),handleInputChange:I}),Object(l.jsx)(h,{id:"right",name:"Relative Animation",label:"relativeAnimation",options:P,onChange:function(e){x.current=e}}),Object(l.jsx)(m,{inputsInfo:M(S.current),handleInputChange:w})]}),Object(l.jsx)(o.a,{style:{position:"absolute"},children:Object(l.jsx)(R,{style:{pointSize:10,lineWidth:5},animated:n,relativeAnimation:x.current.value(D(S)),absoluteAnimation:y.current.value(D(k)),handleDoubleClick:N.current,handleDrag:C.current,pivotalPoints:f,plotPoints:null===O?[]:O})})]})}var z=document.getElementById("root");setInterval((function(){z.setAttribute("pivotalPosition","".concat("[",E.map((function(e){return JSON.stringify([e.position.x,e.position.y])})).toString(),"]"))}),1e3/60),r.a.render(Object(l.jsx)(N,{}),z)}},[[54,1,2]]]);
//# sourceMappingURL=main.aaf69e37.chunk.js.map