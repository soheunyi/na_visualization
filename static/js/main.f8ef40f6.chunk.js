(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n(11),l=n(1),c=(n(24),n(0));var i=e=>{let{label:t,checked:n,onChange:a,className:o=""}=e;return Object(c.jsxs)("div",{className:"modern-toggle-container ".concat(o),children:[Object(c.jsx)("label",{className:"modern-toggle-label",children:t}),Object(c.jsx)("div",{className:"modern-toggle ".concat(n?"modern-toggle--checked":""),onClick:()=>a(!n),role:"switch","aria-checked":n,tabIndex:0,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),a(!n))},children:Object(c.jsx)("div",{className:"modern-toggle__track",children:Object(c.jsx)("div",{className:"modern-toggle__thumb"})})})]})};n(26);var r=e=>{let{label:t,options:n,value:a,onChange:o,onOpenChange:i,className:r=""}=e;const[s,u]=Object(l.useState)(!1),[d,b]=Object(l.useState)(n.find(e=>"string"===typeof e.value?e.value===a:e.label===a)||n[0]||null),h=Object(l.useRef)(null);Object(l.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const j=e=>{u(e),null===i||void 0===i||i(e)};return Object(c.jsxs)("div",{className:"modern-select-container ".concat(r),children:[Object(c.jsx)("label",{className:"modern-select-label",children:t}),Object(c.jsxs)("div",{className:"modern-select",ref:h,children:[Object(c.jsxs)("div",{className:"modern-select__trigger ".concat(s?"modern-select__trigger--open":""),onClick:()=>j(!s),onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),j(!s)):"Escape"===e.key&&j(!1)},tabIndex:0,role:"combobox","aria-expanded":s,"aria-haspopup":"listbox",children:[Object(c.jsx)("span",{className:"modern-select__value",children:(null===d||void 0===d?void 0:d.label)||"Select option"}),Object(c.jsx)("div",{className:"modern-select__arrow",children:Object(c.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",children:Object(c.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s&&Object(c.jsx)("div",{className:"modern-select__dropdown",children:Object(c.jsx)("div",{className:"modern-select__options",role:"listbox",children:n.map(e=>Object(c.jsxs)("div",{className:"modern-select__option ".concat((null===d||void 0===d?void 0:d.value)===e.value?"modern-select__option--selected":""),onClick:()=>(e=>{b(e),u(!1),o(e),null===i||void 0===i||i(!1)})(e),role:"option","aria-selected":(null===d||void 0===d?void 0:d.value)===e.value,children:[Object(c.jsx)("span",{className:"modern-select__option-text",children:e.label}),(null===d||void 0===d?void 0:d.value)===e.value&&Object(c.jsx)("div",{className:"modern-select__check",children:Object(c.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(c.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},e.value))})})]})]})},s=n(4);n(27);var u=e=>{let{title:t,inputs:n,onChange:a,className:o=""}=e;const l=(e,t)=>{const o=n.map((n,a)=>a===e?Object(s.a)(Object(s.a)({},n),{},{value:t}):n);a(o)};return Object(c.jsxs)("div",{className:"modern-input-group ".concat(o),children:[Object(c.jsx)("h4",{className:"modern-input-group__title",children:t}),Object(c.jsx)("div",{className:"modern-input-group__inputs",children:n.map((e,t)=>Object(c.jsxs)("div",{className:"modern-input-item",children:[Object(c.jsx)("label",{className:"modern-input-label",children:e.name}),"number"===e.type?Object(c.jsx)("input",{type:"number",value:e.value,onChange:e=>l(t,parseFloat(e.target.value)||0),className:"modern-number-input",step:"any"}):Object(c.jsx)("div",{className:"modern-checkbox ".concat(e.value?"modern-checkbox--checked":""),onClick:()=>l(t,!e.value),role:"checkbox","aria-checked":e.value,tabIndex:0,onKeyDown:n=>{" "!==n.key&&"Enter"!==n.key||(n.preventDefault(),l(t,!e.value))},children:Object(c.jsx)("div",{className:"modern-checkbox__box",children:e.value&&Object(c.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:Object(c.jsx)("path",{d:"M10 3L4.5 8.5L2 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},e.name))})]})},d=n(3),b=n.n(d);function h(e){const t=[];for(let n=0;n<e.length/2;n++)t.push({x:e[2*n],y:e[2*n+1]});return t}n(29),n(30);var j=(e,t,n)=>{const{color:a="black",width:o=1}=n;t.sort(function(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:void 0}),t.length>1&&(e.save(),e.shadowColor="rgba(0, 0, 0, 0.4)",e.shadowBlur=6,e.shadowOffsetX=1,e.shadowOffsetY=1,e.beginPath(),t.map((n,a)=>{if(a>=t.length-1)return;const o=t[a+1];e.moveTo(n.x,n.y),e.lineTo(o.x,o.y)}),e.strokeStyle=a,e.lineWidth=o,e.stroke(),e.restore())},m=n(10),v=n.n(m);function p(e,t){return{x:e.x+t.x,y:e.y+t.y}}function O(e){return b.a.isUndefined(e)?{x:0,y:0}:e}function x(e){const t=Object(l.useMemo)(()=>e.point.position,[]),n=Object(l.useMemo)(()=>e.animationFrameCount,[]),a=Object(l.useRef)(),o=Object(l.useRef)(),[i,r]=Object(l.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),s=()=>{const{key:n}=e.point,l=O(a.current),c=O(o.current),r={key:n,position:p(p(t,i),p(l,c))};e.handleDrag(r)},{animated:u,absoluteAnimation:d,relativeAnimation:b,animationFrameCount:h}=e;Object(l.useEffect)(()=>{if(u){const e=d();a.current=p(O(a.current),e),o.current=b(h-n),s()}},[h]);const{pointSize:j,color:m}=e.pointStyle,x=O(a.current),f=p(O(o.current),x);return Object(c.jsx)(v.a,{onDrag:(e,t)=>{r(t),s()},children:Object(c.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:t.x+f.x-j,top:t.y+f.y-j,width:2*j,height:2*j,borderRadius:"100%",background:m,opacity:0}})})}n(31);var f=function(e){const t=Object(l.useRef)(null),{draw:n,pathPoints:a,points:o,pointStyle:i,lineStyle:r,canvasStyle:u}=e;return Object(l.useEffect)(()=>{const e=t.current;if(!e)return;const l=e.getContext("2d");l&&(l.clearRect(0,0,l.canvas.width,l.canvas.height),n(l,a,r),o.forEach(e=>{!function(e,t,n,a){const{color:o="#ff2626",pointSize:l=10}=a;e.save(),e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=8,e.shadowOffsetX=2,e.shadowOffsetY=2,e.beginPath(),e.fillStyle=o,e.arc(t,n,l,0,2*Math.PI),e.fill(),e.shadowColor="transparent",e.stroke(),e.restore()}(l,e.x,e.y,i)}))},[n,o,a,i,r]),Object(c.jsx)("canvas",Object(s.a)({ref:t,width:u.width,height:u.height},e))};const g=e=>{for(var t=0,n=0;n<e;n++)t+=Math.random();return(t-e/2)/(e/12)**2};const y=60,k=[{value:()=>()=>({x:0,y:0}),label:"None",variable:[]},{value:function(e){let{sigma:t}=e;return()=>({x:t*g(5)/y**.5,y:t*g(5)/y**.5})},label:"Brownian Motion",variable:[{name:"sigma",value:5,type:"number"}]},{value:function(e){return()=>({x:e.x/y,y:e.y/y})},label:"Linear",variable:[{name:"x",value:20,type:"number"},{name:"y",value:10,type:"number"}]}],w=[{value:()=>()=>({x:0,y:0}),label:"None",variable:[]},{value:function(e){let{radius:t,freq:n,clockwise:a}=e;return e=>{const o=a?-2*Math.PI*n*e/y:2*Math.PI*n*e/y;return{x:t*Math.cos(o)-t,y:t*Math.sin(o)}}},label:"Circular",variable:[{name:"radius",value:10,type:"number"},{name:"freq",value:1,type:"number"},{name:"clockwise",value:!0,type:"checkbox"}]}],C=[{value:"wavy",label:"Wavy"},{value:"linear",label:"Linear"},{value:"lagrange",label:"Lagrange"},{value:"quad_spline",label:"Quadratic Spline"},{value:"cubic_spline",label:"Cubic Spline"},{value:"fourth_spline",label:"4th Spline"},{value:"fifth_spline",label:"5th Spline"},{value:"akima",label:"Akima"},{value:"pchip",label:"PCHIP"}];function N(e){const[t,n]=Object(l.useState)(0),[a,o]=Object(l.useState)({width:1280,height:720}),{animated:i,absoluteAnimation:r,relativeAnimation:s,lineWidth:u,style:d}=e,{pointSize:b}=d;return Object(l.useEffect)(()=>{const e=()=>{o({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),Object(l.useEffect)(()=>{const e=setInterval(()=>{i&&n(e=>e+1)},1e3/y);return()=>{clearInterval(e)}},[i]),Object(c.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%"},onDoubleClick:()=>{const{position:t}=e;e.handleDoubleClick(t)},children:[e.pivotalPoints.map(n=>Object(c.jsx)(x,{animated:i,absoluteAnimation:r,relativeAnimation:s,animationFrameCount:t,handleDrag:e.handleDrag,point:n,pointStyle:{pointSize:10,color:"#f472b6"}})),Object(c.jsx)(f,{draw:j,pathPoints:e.plotPoints.path,points:e.plotPoints.pivotal,lineStyle:{color:"#000000",width:u},pointStyle:{color:"#06b6d4",pointSize:b},canvasStyle:{width:a.width,height:a.height}})]})}function S(e){const t={};var n;return(n=e.current,b.a.isUndefined(n)?[]:n).forEach(e=>{t[e.name]=e.value}),t}const _=[];function E(){const[e,t]=Object(l.useState)(!1),[n,a]=Object(l.useState)([]),[s,d]=Object(l.useState)({path:[],pivotal:[]}),[j,m]=Object(l.useState)(0),v=Object(l.useRef)(k[0]),p=Object(l.useRef)(w[0]),O=Object(l.useRef)(v.current.variable),x=Object(l.useRef)(p.current.variable);Object(l.useEffect)(()=>{let e;const t=()=>{a([..._]);const n=document.getElementById("root");if(n){const e=n.getAttribute("plotPosition"),t=null==e?{path:[],pivotal:[]}:JSON.parse(e);t.path=h(t.path),t.pivotal=h(t.pivotal),d(t)}e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}},[]);const f=Object(l.useCallback)(e=>{v.current=e},[]),g=Object(l.useCallback)(e=>{p.current=e},[]),y=Object(l.useCallback)(e=>{O.current=e},[]),E=Object(l.useCallback)(e=>{x.current=e},[]);Object(l.useEffect)(()=>{const e=b.a.findIndex(k,e=>e.label===v.current.label);y(k[e].variable)},[v.current]),Object(l.useEffect)(()=>{const e=b.a.findIndex(w,e=>e.label===p.current.label);E(w[e].variable)},[p.current]);const A=Object(l.useRef)();A.current=Object(l.useCallback)(e=>{const t=b.a.findIndex(_,t=>t.key===e.key);-1!==t&&(_[t]=e)},[]);const L=Object(l.useRef)();L.current=Object(l.useCallback)(e=>{const t=Math.random().toString(36);_.length<100&&_.push({position:e,key:t})},[]);const P=Object(l.useCallback)(e=>{const t=document.getElementById("root");t&&t.setAttribute("interpolationMethod",e.value)},[]),I=Object(l.useCallback)(e=>{const t=k.find(t=>t.label===e.label);t&&f(t)},[f]),M=Object(l.useCallback)(e=>{const t=w.find(t=>t.label===e.label);t&&g(t)},[g]),D=Object(l.useCallback)(e=>{m(t=>t+(e?1:-1))},[]);return Object(c.jsxs)("div",{style:{height:"100vh",width:"100vw",position:"relative"},children:[Object(c.jsxs)("div",{className:"modern-controls-container ".concat(j>0?"modern-controls-container--expanded":""),children:[Object(c.jsx)("div",{className:"controls-section",children:Object(c.jsx)(i,{label:"Animation",checked:e,onChange:t})}),Object(c.jsx)("div",{className:"controls-section",children:Object(c.jsx)(r,{label:"Interpolation Method",options:C,onChange:P,onOpenChange:D})}),e&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"controls-section",children:[Object(c.jsx)(r,{label:"Absolute Animation",options:k,onChange:I,onOpenChange:D}),O.current.length>0&&Object(c.jsx)(u,{title:"Parameters",inputs:O.current,onChange:y})]}),Object(c.jsxs)("div",{className:"controls-section",children:[Object(c.jsx)(r,{label:"Relative Animation",options:w,onChange:M,onOpenChange:D}),x.current.length>0&&Object(c.jsx)(u,{title:"Parameters",inputs:x.current,onChange:E})]})]})]}),Object(c.jsx)(o.a,{style:{position:"absolute",width:"100%",height:"100%"},children:Object(c.jsx)(N,{style:{pointSize:10,lineWidth:5},animated:e,relativeAnimation:p.current.value(S(x)),absoluteAnimation:v.current.value(S(O)),handleDoubleClick:L.current,handleDrag:A.current,pivotalPoints:n,plotPoints:null===s?[]:s})})]})}const A=document.getElementById("root");if(A){let e;const t=()=>{A.setAttribute("pivotalPosition","".concat("[",_.map(e=>JSON.stringify([e.position.x,e.position.y])).toString(),"]")),e=requestAnimationFrame(t)};t();Object(a.createRoot)(A).render(Object(c.jsx)(E,{}))}}},[[32,1,2]]]);